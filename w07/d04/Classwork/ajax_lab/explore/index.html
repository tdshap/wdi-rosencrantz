<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Ajax</title>
</head>
<body>
  <div id="search_movie">
    <input type="text" name="movie_title">
    <button> Search </button>
  </div>

  <pre></pre> <!-- preformatted text -->

  <script type="text/javascript">

  var movie = document.getElementById("search_movie")
  var button = movie.children[1]
  button.addEventListener("click", function() {
    var movie_name = movie.children[0].value
    fetch(movie_name);
  });

    var pre = document.querySelector('pre');
// grabs <pre> tags from HTML

    function fetch(title) {
      var xhr = new XMLHttpRequest();
      // sets up new variable as an instance of XML named XHR

      xhr.addEventListener('load', function(){ //adding an event listener to xml instance. Once xhr response is completly loaded, then it will execute everything in this function
        pre.innerText += xhr.response + '\n';
        // changing the inner text of <pre> to the xhr response
      });

      xhr.open('GET', '/movies?title=' + encodeURIComponent(title));
      //  setting up this specific XML request
      xhr.send()
      // sending out the XML request
    }
  </script>
</body>
</html>