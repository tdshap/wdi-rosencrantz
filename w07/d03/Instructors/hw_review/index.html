<DOCTYPE! html>
<head></head>
<body>
  <h1>To Do:</h1>
  <input id="new_item" type="text" placeholder="New Task">
  <h2>Current Tasks</h2>
  <ul>
  </ul>
  <h4 id="counter"></h4>

<script type="text/javascript">
  var new_item = document.getElementById("new_item");
  var ul = document.querySelector("ul");

  new_item.addEventListener("keypress", function(e) {
    if (e.keyCode == 13 && new_item.value != "") {
      var ul = document.querySelector("ul");

      var li = document.createElement("li");
      li.innerHTML = new_item.value + "<input type='checkbox' class='done' />";

      ul.appendChild(li);
      listenToCheck(li.querySelector('input'));

      var counter = document.getElementById("counter");
      counter.innerText = ul.children.length + " tasks to do";
      new_item.value = "";
    }
  });

  function listenToCheck(checkbox) { 
    checkbox.addEventListener("click", function(event) {
      check = event.target;
      check.parentNode.setAttribute("style", "text-decoration:line-through;")
    });
  }
</script>
</body>